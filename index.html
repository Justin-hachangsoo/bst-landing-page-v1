<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BST - BeautySkin ai Token</title>
  <!-- Tailwind CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <!-- FontAwesome for icons -->
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" rel="stylesheet" />
  
  <style>
    .header-divider { height: 4px; background: linear-gradient(90deg, #4c51bf, #6b46c1); }
    .hero-bg { background: linear-gradient(135deg, #eab308 0%, #facc15 100%); }
    .lang-btn { cursor: pointer; padding: 0.25rem 0.5rem; border-radius: 0.25rem; }
    .lang-btn.active { background-color: rgba(255,255,255,0.2); }
    
    /* 📍 핵심 해결책: CSS로 초기 위치 고정 */
    html {
      overflow-anchor: none;
      scroll-behavior: auto !important;
      /* 처음부터 스크롤을 최상단에 고정 */
      scroll-padding-top: 0;
    }
    body {
      overflow-anchor: none;
      /* 페이지 로딩 중 스크롤 방지 */
      overflow-x: hidden;
    }
    
    /* 🚀 깜빡임 방지: 페이지 로딩 중 투명도 조절 */
    body.loading {
      opacity: 0;
      transition: opacity 0.1s ease-in;
    }
    body.loaded {
      opacity: 1;
    }
  </style>
  
  <script>
    // 🔧 1단계: 브라우저 스크롤 복원 완전 차단
    if ('scrollRestoration' in history) {
      history.scrollRestoration = 'manual';
    }
    
    // 🔧 2단계: 페이지 로딩 시작 즉시 최상단 고정
    window.scrollTo(0, 0);
    document.documentElement.scrollTop = 0;
    
    // 🔧 3단계: DOM이 준비되기 전에 실행되는 즉시 함수
    (function() {
      // 페이지 로드 시작과 동시에 스크롤 위치 고정
      if (document.readyState === 'loading') {
        window.scrollTo(0, 0);
      }
    })();
  </script>
  
</head>
  
<body id="top" class="bg-white text-gray-800 loading" data-lang="ko">  
  <!-- Header -->
  <header class="sticky top-0 bg-white shadow z-50">
    <div class="container mx-auto flex items-center justify-between p-4">
     <div class="flex items-center space-x-4">
      <!-- 클릭 시 최상단( id="top" )으로 스크롤 -->
      <a href="#top" class="flex items-center space-x-2">
        <img src="BST-logo2025.png" alt="BST Logo" class="h-10 w-10" />
        <span id="site-title" class="font-bold text-xl">BST</span>
      </a>
     </div>
      
      <!--수정 코드-->
       <nav>
        <ul class="flex flex-wrap justify-center space-x-8 text-sm sm:space-x-12 sm:text-base">
           <li><a href="https://bst.beauty/" id="nav-wallet" class="font-bold hover:text-indigo-600" target="blank">지갑</a></li>
           <li><a href="#whitepaper" id="nav-whitepaper" class="font-bold hover:text-indigo-600">백서</a></li>
        </ul>
      </nav>
      <!--수정 완료-->
      <!--수정 코드-->
      <div class="relative">
        <i id="lang-toggle" class="fas fa-globe text-xl cursor-pointer"></i>
        <div id="lang-menu" class="absolute right-0 mt-2 bg-white border rounded shadow-lg hidden">
          <button id="lang-ko" class="block w-full px-4 py-2 text-left hover:bg-gray-100">KOR</button>
          <button id="lang-en" class="block w-full px-4 py-2 text-left hover:bg-gray-100">ENG</button>
        </div>
      </div>
      <!--수정 완료-->
    </div>
    <div class="header-divider"></div>
  </header>

  <!-- Hero Section -->
  <section class="hero-bg text-white">
    <div class="container mx-auto flex flex-col md:flex-row items-center py-20">
      <div class="md:w-1/2 px-4">
        <h1 id="hero-title" class="text-4xl md:text-5xl font-bold mb-4">BST (BeautySkin ai Token)</h1>
        <p id="hero-subtitle" class="mb-6">Solana 기반 RWA 연계 하이브리드 스테이킹 시스템으로, 실물 K-Beauty 비즈니스와 연결된 혁신적인 디지털 자산.</p>
        <div class="space-x-4">
	   <a href="https://bst.beauty/" target="blank" class="bg-white text-black font-semibold px-6 py-2 rounded shadow hover:bg-gray-100" >
    <span id="btn-hero-connect">지갑 연결</span>
</a>
          <a href="#whitepaper" id="btn-view-whitepaper" class="bg-transparent border border-white px-6 py-2 rounded hover:bg-white hover:text-black">백서 보기</a>
        </div>
      </div>
      <div class="md:w-1/2 mt-8 md:mt-0 flex justify-center">
        <img src="BST-logo2025.png" alt="BST Logo" class="w-64 h-64" />
      </div>
    </div>
  </section>

  <!-- Wallet Section -->
<section id="wallet" class="py-16">
  <div class="container mx-auto px-4">
    <h2 id="sec-wallet-title" class="text-2xl font-bold mb-4">코인 지갑 연결</h2>
    <p id="sec-wallet-desc" class="mb-6">다음 버튼을 클릭하여 Phantom 지갑 등 Solana 지갑을 연결하세요.</p>
    
    <a href="https://bst.beauty/" target="blank" id="" class="bg-indigo-600 text-white px-6 py-3 rounded hover:bg-indigo-700">
        <span id="wallet-connect-text">지갑 연결</span>
    </a>
  </div>
</section>

  <!-- Whitepaper Section -->
  <section id="whitepaper" class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 id="sec-whitepaper-title" class="text-2xl font-bold mb-4">백서</h2>
      <iframe id="wp-frame" src="BST2025_V1.html" class="w-full h-screen border rounded-lg"></iframe>
    </div>
  </section>

  <!-- Explorer Section -->
  <section id="explorer" class="py-16">
    <div class="container mx-auto px-4">
      <h2 id="sec-explorer-title" class="text-2xl font-bold mb-4">Solana Explorer</h2>
      <iframe src="https://explorer.solana.com" class="w-full h-screen border rounded-lg"></iframe>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-8 bg-gray-800 text-gray-300">
    <div class="container mx-auto px-4 text-center">
      <p id="footer-text">© 2025 BeautySkin ai Token. All rights reserved.</p>
      <div class="mt-4 space-x-4">
        <a href="https://t.me/BST_official" class="hover:text-white"><i class="fab fa-telegram"></i> 텔레그램</a>
        <a href="https://twitter.com/BST_official" class="hover:text-white"><i class="fab fa-twitter"></i> 트위터</a>
        <a href="https://medium.com/BeautySkin-ai" class="hover:text-white"><i class="fab fa-medium"></i> 미디엄</a>
      </div>
    </div>
  </footer>
  
  <script>
    // 🎯 핵심 해결책: 페이지 로딩과 동시에 실행 (스크롤 고정 로직 유지)
    (function() {
      // 즉시 최상단 고정
      window.scrollTo(0, 0);
      document.documentElement.scrollTop = 0;
      document.body.scrollTop = 0;
      
      // DOM 준비 완료 시 페이지 표시
      function showPage() {
        document.body.classList.remove('loading');
        document.body.classList.add('loaded');
        // 한 번 더 확실히 최상단 고정
        window.scrollTo(0, 0);
      }
      
      // DOM이 이미 준비되었다면 즉시 실행
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', showPage);
      } else {
        showPage();
      }
    })();

    // 🔒 추가 보안: 스크롤 이벤트 감지 시 최상단 유지 (처음 로딩 시에만)
    let initialLoadComplete = false;
    
    window.addEventListener('load', function() {
      setTimeout(function() {
        initialLoadComplete = true;
      }, 500); // 0.5초 후 자유 스크롤 허용
    });
    
    // 🛡️ 초기 로딩 중에는 스크롤 방지
    window.addEventListener('scroll', function() {
      if (!initialLoadComplete && window.scrollY > 0) {
        window.scrollTo(0, 0);
      }
    });

    // (1) 언어별 텍스트사전
    const translations = {
      ko: {
        navWallet: '지갑', 
        navWhitepaper: '백서',
        heroSubtitle: 'Solana 기반 RWA 연계 하이브리드 스테이킹 시스템으로, 실물 K-Beauty 비즈니스와 연결된 혁신적인 디지털 자산.',
        btnHeroConnect: '지갑 연결', // Hero 섹션의 연결 버튼 텍스트
        viewWhitepaper: '백서 보기',
        secWalletTitle: '코인 지갑 연결',
        secWalletDesc: '다음 버튼을 클릭하여 Phantom 지갑 등 Solana 지갑을 연결하세요.',
        walletConnect: '지갑 연결', // Wallet 섹션의 연결 버튼 텍스트
        secWhitepaperTitle: '백서',
        secExplorerTitle: 'Solana Explorer',
        footerText: '© 2025 BeautySkin ai Token. All rights reserved.'
      },
      en: {
        navWallet: 'Wallet',
        navWhitepaper: 'Whitepaper',
        heroSubtitle: 'Solana-based RWA-linked hybrid staking system, an innovative digital asset connecting real-world K-Beauty business.',
        btnHeroConnect: 'Connect Wallet', // Hero 섹션의 연결 버튼 텍스트
        viewWhitepaper: 'View Whitepaper',
        secWalletTitle: 'Connect Wallet',
        secWalletDesc: 'Click the button below to connect your Phantom or other Solana wallet.',
        walletConnect: 'Connect Wallet', // Wallet 섹션의 연결 버튼 텍스트
        secWhitepaperTitle: 'Whitepaper',
        secExplorerTitle: 'Solana Explorer',
        footerText: '© 2025 BeautySkin ai Token. All rights reserved.'
      }
    };
    
    // (2) 언어 전환 함수 (Null 오류 방지 및 Whitepaper iframe src 업데이트 포함)
    function setLanguage(lang) {
      document.documentElement.lang = lang === 'en' ? 'en' : 'ko';
      document.body.dataset.lang = lang;
      const t = translations[lang];

      // ⭐️ 오류 방지: 존재하지 않는 요소를 시도하기 전에 확인합니다.
      // 이전에 오류가 났을 가능성이 높은 'btn-hero-connect'를 포함한 모든 요소를 안전하게 처리합니다.
      
      const elementsToUpdate = [
        { id: 'nav-wallet', text: t.navWallet },
        { id: 'nav-whitepaper', text: t.navWhitepaper },
        { id: 'hero-subtitle', text: t.heroSubtitle },
        { id: 'btn-hero-connect', text: t.btnHeroConnect }, // Hero 섹션 연결 버튼 (span)
        { id: 'btn-view-whitepaper', text: t.viewWhitepaper },
        { id: 'sec-wallet-title', text: t.secWalletTitle },
        { id: 'sec-wallet-desc', text: t.secWalletDesc },
        { id: 'wallet-connect', text: t.walletConnect }, // Wallet 섹션 연결 버튼
        { id: 'sec-whitepaper-title', text: t.secWhitepaperTitle },
        { id: 'sec-explorer-title', text: t.secExplorerTitle },
        { id: 'footer-text', text: t.footerText },
      ];
      
      elementsToUpdate.forEach(item => {
        const element = document.getElementById(item.id);
        if (element) {
          element.innerText = item.text;
        } else {
          // 💡 디버깅 팁: 어떤 요소가 누락되었는지 확인
          // console.warn(`Element with ID '${item.id}' not found.`);
        }
      });
      
      // 🌟 핵심 해결책: Whitepaper iframe src 업데이트
      const wpFrame = document.getElementById('wp-frame');
      if (wpFrame) {
          wpFrame.src = lang === 'en'
            ? 'BST2025_V1_en.html' // 영문 백서 파일
            : 'BST2025_V1.html'; // 한국어 백서 파일
      }
    }
    
    // (3) 🌐 드롭다운 토글 & 언어 선택
    const langToggle = document.getElementById('lang-toggle');
    const langMenu   = document.getElementById('lang-menu');
    
    if (langToggle) {
        langToggle.addEventListener('click', () => {
          langMenu.classList.toggle('hidden');
        });
    }
    
    const langKo = document.getElementById('lang-ko');
    const langEn = document.getElementById('lang-en');
    
    if (langKo) {
        langKo.addEventListener('click', () => {
          setLanguage('ko');
          langMenu.classList.add('hidden');
          localStorage.setItem('lang', 'ko'); // Save preference
        });
    }
    
    if (langEn) {
        langEn.addEventListener('click', () => {
          setLanguage('en');
          langMenu.classList.add('hidden');
          localStorage.setItem('lang', 'en'); // Save preference
        });
    }

    document.addEventListener('click', e => {
      if (!langToggle || !langMenu) return; // 요소가 없으면 실행 중지
      if (!langToggle.contains(e.target) && !langMenu.contains(e.target)) {
        langMenu.classList.add('hidden');
      }
    });
    
    // (4) 초기 언어 읽어오기 (localStorage)
    const initialLang = localStorage.getItem('lang') || 'ko';
    setLanguage(initialLang);
    
    // (5) Phantom Wallet 연결 버튼
    const walletConnectButton = document.getElementById('wallet-connect');
    if (walletConnectButton) {
        walletConnectButton.addEventListener('click', async (e) => {
            // e.preventDefault()는 Wallet 섹션의 버튼(wallet-connect)이 
            // 실제 Phantom 연결 로직을 실행하도록 할 때 주석 해제해야 합니다.
            // 현재 코드는 <a href="https://bst.beauty/">로 이동하도록 되어 있어,
            // 이 버튼을 API 연결용으로 사용하려면 e.preventDefault()를 반드시 사용해야 합니다.
            e.preventDefault(); 
            
            if (window.solana && window.solana.isPhantom) {
                try {
                    const resp = await window.solana.connect();
                    alert((document.body.dataset.lang === 'en' ? 'Wallet connected: ' : '지갑 연결됨: ') + resp.publicKey.toString());
                } catch (err) {
                    console.error(err);
                    alert(document.body.dataset.lang === 'en' ? 'Failed to connect wallet.' : '지갑 연결에 실패했습니다.');
                }
            } else {
                alert(document.body.dataset.lang === 'en' ? 'Please install Phantom Wallet.' : 'Phantom 지갑을 설치해주세요.');
                // Phantom 지갑 설치 페이지로 이동시키려면
                // window.open('https://phantom.app/', '_blank');
            }
        });
    }
  </script>
</body>
</html>






